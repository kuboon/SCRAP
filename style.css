body {
   margin: 0;
   padding: 0;
   height: 100vh;
}

#page_header {
   background: ;
   padding: 0.5em;
}

.header_content {
   display: flex;
   align-items: center;
   gap: 1em;
}

.logo {
   width: 2em;
   height: 2em;
   flex-shrink: 0;
}

.logo img {
   width: 100%;
   height: 100%;
   object-fit: cover;
}

h1 {
    margin: 0;
}

h1 ruby {
    text-align: left;  /* ルビを左揃えに */
}

h1 ruby rt {
    font-size: 0.4em;
    text-align: left;  /* ルビを左揃えに */
}

#output {
   background: ;
   padding: 0.5em;
   border: 1px solid #ccc;
   overflow-y: auto;
   word-wrap: break-word;
   max-height: 200px;
   position: relative;
}

#output_content {
   border: 1px dashed #ccc;
   padding: 0.5em;
}

.flex_1 {
   display: flex;
}

.flex_2 {
   display: flex;
   align-items: center;
   gap: 1em;
}

.flex_3 {
   display: flex;
   gap: 0.5em;
   margin-top: 0.5em;
   flex-wrap: wrap;
}

.flex_4 {
   display: flex;
   align-items: center;
   gap: 1em;
}

.flex_5 {
   display: flex;
}

.flex_6, .flex_7 {
   display: flex;
   align-items: center;
   gap: 1em;
   flex-wrap: wrap;
}

.control_button {
   border: 1px solid #ccc;
   border-radius: 4px;
   background: #fff;
   cursor: pointer;
}

.control_button:hover {
   background: #f0f0f0;
}

.word_button {
   border: 1px solid #ccc;
   border-radius: 4px;
   background: #fff;
   cursor: pointer;
   touch-action: manipulation;
}

.word_button:hover {
   background: #f0f0f0;
}

.word_button:active {
   background: #e0e0e0;
}

#stack {
   border: 1px solid #ccc;
   background: ;
   width: 50%;
   padding: 0.5em;
}

.stack_input {
   border: 1px solid #ccc;
   flex-grow: 1;
   min-width: 0;
   box-sizing: border-box;
}

#data_stack {
   flex-grow: 1;
   border: 1px dashed #ccc;
   padding: 0.5em;
   margin: 0 0.25em 0 0;
}

#return_stack {
   flex-grow: 1;
   border: 1px dashed #ccc;
   padding: 0.5em;
   margin: 0 0 0 0.25em;
}

.words_container {
   display: flex;
   flex-direction: column;
   gap: 0.5em;
}

.button_group {
   display: flex;
   flex-wrap: wrap;
   gap: 0.5em;
   margin-bottom: 0.5em;
}

.button_group:last-child {
   margin-bottom: 0;
}

#built_in_words h3 {
   margin-bottom: 1em;
}

.stack_placeholder {
   color: #ccc;
   text-align: center;
}

.faded_button {
   opacity: 0.5;
}

#dictionary {
   border: 1px solid #ccc;
   background: ;
   width: 50%;
   padding: 0.5em;
}

#built_in_words {
   border: 1px dashed #ccc;
   padding: 0.5em;
   margin-bottom: 0.5em;
}

#custom_words {
   border: 1px dashed #ccc;
   padding: 0.5em;
}

#delete_word, #word_name, #word_definition, #word_description {
   border: 1px solid #ccc;
}

@media (max-width: 768px) {
   .flex_2, .flex_3, .flex_5 {
       display: block;
   }

   .flex_6, .flex_7 {
       display: block;
       width: 100%;
   }

   .stack_input {
       width: 100%;
       box-sizing: border-box;
       margin-top: 0.5em;
   }

   #data_stack {
       margin: 0 0 0.5em 0;
       width: auto;
   }

   #return_stack {
       margin: 0;
       width: auto;
   }

   #data_stack, #return_stack {
       padding: 1em;
   }

   h3 {
       margin: 0;
   }

   .stack_container {
       margin-top: 1em;
       min-height: 50px;
   }

   .flex_3 {
       display: block;
       width: 100%;
   }

   #word_name,
   #word_definition,
   #word_description {
       width: 100%;
       box-sizing: border-box;
       margin-bottom: 0.5em;
   }

   #word_description {
       margin-bottom: 0;
   }

   .flex_3 .control_button {
       width: 100%;
       margin-top: 0.5em;
   }
}

@media (max-width: 480px) {
   body {
       max-width: 100%;
       overflow-x: hidden;
   }

   article {
       padding: 0.5em;
       box-sizing: border-box;
   }

   #output,
   #stack,
   #dictionary {
       width: 100%;
       box-sizing: border-box;
       margin: 0;
   }

   .flex_1 {
       display: flex;
       flex-direction: column;
   }

   #stack {
       order: 1;
   }

   #dictionary {
       order: 2;
   }

   .flex_6, .flex_7 {
       display: flex;
       align-items: center;
       gap: 1em;
       flex-wrap: nowrap;
   }

   .flex_2 {
       display: flex;
       align-items: center;
       gap: 1em;
   }

   .flex_3 {
       display: flex;
       flex-direction: column;
       gap: 0.5em;
   }

   .stack_input {
       min-width: 0;
   }

   .stack_input,
   #delete_word_input,
   #word_name,
   #word_definition,
   #word_description {
       width: 100%;
       box-sizing: border-box;
   }

   h3 {
       margin: 0;
   }
}